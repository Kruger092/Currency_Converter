(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{20:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(4),u=n.n(a),o=n(9),s=n(3),i=(n(8),n(2)),b=n(1);function l(e){var t=e.currency,n=e.changeCurrency,c=e.amount,r=e.onChangeAmount,a=e.isDisabledInput,u=e.isDisabledSelect,o=t.find((function(e){return!0===e.checked}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"number",className:"input",value:c,onChange:function(e){var t=e.target.value;t>=0&&r(t)},disabled:a}),Object(b.jsx)("select",{value:o.value,onChange:function(e){var c=e.target.value,r=t.map((function(e){return!0===e.checked?Object(i.a)(Object(i.a)({},e),{},{checked:!1}):e.label===c?Object(i.a)(Object(i.a)({},e),{},{checked:!0}):e}));n(r)},disabled:u,children:t.map((function(e,t){return Object(b.jsx)("option",{value:e.label,children:e.label},t)}))})]})}var f="http://api.exchangeratesapi.io/v1/latest?access_key=5f3ecaaee9876611868c238684070534&symbols=EUR,USD,UAH,RUB,JPY,CAD";var j=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e})),n=t.fromCurrency,r=t.fromAmount,a=t.toCurrency,u=t.toAmount,i=t.exchangeRate,j=function(t){e({type:"CHANGE_FROM_CURRENCY",newFromCurrency:t})},h=function(t){e({type:"CHANGE_TO_CURRENCY",newToCurrency:t})},O=function(t){e({type:"CHANGE_TO_AMOUNT",toAmount:t})};return Object(c.useEffect)((function(){fetch(f).then((function(e){return e.json()})).then((function(e){var t=Object(o.a)(Object.keys(e.rates)),n=function(){var e="";switch(window.navigator.language){case"ru":case"ua":case"en":e="EUR";break;default:e="EUR"}return e}();j([{label:n,checked:!0}]);var c=t.filter((function(e){return e!==n})).map((function(e,t){return{label:e,checked:0===t}}));h(c)}))}),[]),Object(c.useEffect)((function(){if(n.length&&a.length){var t=n.find((function(e){return!0===e.checked})),c=a.find((function(e){return!0===e.checked}));fetch("".concat(f,"&base=").concat(t.label,"&symbols=").concat(c.label)).then((function(e){return e.json()})).then((function(t){return function(t){e({type:"CHANGE_RATE",exchangeRate:t})}(t.rates[c.label])}))}}),[n,a]),Object(c.useEffect)((function(){r&&i&&O(r*i)}),[r,i]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Currency Converter"}),n.length&&a.length&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l,{currency:n,changeCurrency:j,amount:r,onChangeAmount:function(t){e({type:"CHANGE_FROM_AMOUNT",fromAmount:t})},isDisabledInput:!1,isDisabledSelect:!0}),Object(b.jsx)("div",{className:"equals",children:"="}),Object(b.jsx)(l,{currency:a,changeCurrency:h,amount:u,onChangeAmount:O,isDisabledInput:!0,isDisabledSelect:!1})]})]})},h=n(10),O=Object(h.a)((function(e,t){switch(t.type){case"CHANGE_FROM_CURRENCY":return Object(i.a)(Object(i.a)({},e),{},{fromCurrency:t.newFromCurrency});case"CHANGE_TO_CURRENCY":return Object(i.a)(Object(i.a)({},e),{},{toCurrency:t.newToCurrency});case"CHANGE_FROM_AMOUNT":return Object(i.a)(Object(i.a)({},e),{},{fromAmount:t.fromAmount});case"CHANGE_TO_AMOUNT":return Object(i.a)(Object(i.a)({},e),{},{toAmount:t.toAmount});case"CHANGE_RATE":return Object(i.a)(Object(i.a)({},e),{},{exchangeRate:t.exchangeRate});default:return e}}),{fromCurrency:[],fromAmount:0,toCurrency:[],toAmount:0,exchangeRate:""}),d=function(){return Object(b.jsx)(s.a,{store:O,children:Object(b.jsx)(j,{})})};u.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(d,{})}),document.getElementById("root"))},8:function(e,t,n){}},[[20,1,2]]]);
//# sourceMappingURL=main.daa69d57.chunk.js.map